#include <windows.h>
#include "resource.h"

IDR_MAINMENU MENU
BEGIN
  POPUP "&File"
  BEGIN
    MENUITEM "Open pack root...\tCtrl+O", IDM_FILE_OPEN_PACKROOT
    MENUITEM SEPARATOR
    MENUITEM "Sa&ve language YAML\tCtrl+S", IDM_FILE_SAVE_LANGUAGE
    MENUITEM "Save &phonemes YAML\tCtrl+P", IDM_FILE_SAVE_PHONEMES
    MENUITEM SEPARATOR
    MENUITEM "&Reload language YAML\tF5", IDM_FILE_RELOAD_LANGUAGE
    MENUITEM "Reload ph&onemes YAML\tShift+F5", IDM_FILE_RELOAD_PHONEMES
    MENUITEM SEPARATOR
    MENUITEM "Exit", IDM_FILE_EXIT
  END
  POPUP "&Settings"
  BEGIN
    MENUITEM "Set eSpeak directory...", IDM_SETTINGS_ESPEAK_DIR
    MENUITEM "Phonemizer settings...", IDM_SETTINGS_PHONEMIZER
    MENUITEM "Set DLL directory...", IDM_SETTINGS_DLL_DIR
    MENUITEM "Speech settings...", IDM_SETTINGS_SPEECH_SETTINGS
    MENUITEM SEPARATOR
    MENUITEM "Edit voice profiles...", IDM_SETTINGS_EDIT_VOICES
  END
  POPUP "&Help"
  BEGIN
    MENUITEM "About...", IDM_HELP_ABOUT
  END
END

IDD_ADD_MAPPING DIALOGEX 0,0,240,170
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Add mapping"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "From (IPA):", -1, 7,7,70,10
  EDITTEXT IDC_MAP_FROM, 80,5,150,14, ES_AUTOHSCROLL

  LTEXT "To (phoneme key):", -1, 7,26,70,10
  EDITTEXT IDC_MAP_TO, 80,24,150,14, ES_AUTOHSCROLL

  CONTROL "At word start", IDC_MAP_WORDSTART, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 7,46,100,10
  CONTROL "At word end", IDC_MAP_WORDEND, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 120,46,100,10

  LTEXT "Before class:", -1, 7,62,70,10
  COMBOBOX IDC_MAP_BEFORECLASS, 80,60,150,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "After class:", -1, 7,80,70,10
  COMBOBOX IDC_MAP_AFTERCLASS, 80,78,150,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  DEFPUSHBUTTON "OK", IDOK, 126,148,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,148,50,14
END

IDD_CLONE_PHONEME DIALOGEX 0,0,240,120
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Clone phoneme"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "New phoneme key:", -1, 7,7,90,10
  EDITTEXT IDC_CLONE_NEWKEY, 100,5,130,14, ES_AUTOHSCROLL

  LTEXT "Clone from:", -1, 7,28,90,10
  COMBOBOX IDC_CLONE_FROM, 100,26,130,100, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  DEFPUSHBUTTON "OK", IDOK, 126,98,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,98,50,14
END

IDD_EDIT_VALUE DIALOGEX 0,0,240,90
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit value"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Field:", -1, 7,7,40,10
  LTEXT "", IDC_VAL_FIELD, 52,7,180,10

  LTEXT "Value:", -1, 7,28,40,10
  EDITTEXT IDC_VAL_VALUE, 52,26,180,14, ES_AUTOHSCROLL

  CONTROL "Preview while typing", IDC_VAL_LIVE_PREVIEW, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 52,44,120,10

  DEFPUSHBUTTON "OK", IDOK, 126,68,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,68,50,14
END

IDD_EDIT_PHONEME DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit phoneme"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "", IDC_PHONEME_KEY_LABEL, 7,7,266,10
  LTEXT "Phoneme fields:", -1, 7,18,266,10
  CONTROL "", IDC_PHONEME_FIELDS, "SysListView32", LVS_REPORT | LVS_SINGLESEL | WS_TABSTOP | WS_BORDER, 7,22,266,150
  PUSHBUTTON "Edit value...", IDC_PHONEME_EDIT_VALUE, 7,176,70,14
  DEFPUSHBUTTON "OK", IDOK, 168,176,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,176,50,14
END

IDD_EDIT_SETTINGS DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Language settings"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Settings:", -1, 7,7,266,10
  CONTROL "", IDC_SETTINGS_LIST, "SysListView32", LVS_REPORT | LVS_SINGLESEL | WS_TABSTOP | WS_BORDER, 7,18,266,129
  PUSHBUTTON "Add...", IDC_SETTINGS_ADD, 7,152,60,14
  PUSHBUTTON "Edit...", IDC_SETTINGS_EDIT, 72,152,60,14
  PUSHBUTTON "Remove", IDC_SETTINGS_REMOVE, 137,152,60,14
  DEFPUSHBUTTON "OK", IDOK, 168,176,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,176,50,14
END

// -----------------
// Dialog: Speech settings
// -----------------
IDD_SPEECH_SETTINGS DIALOGEX 0,0,300,260
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Speech settings"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Voice:", -1, 7,7,40,10
  COMBOBOX IDC_SPEECH_VOICE, 55,5,140,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  GROUPBOX "Basic", -1, 7,24,286,88
  LTEXT "Rate:", -1, 14,38,35,10
  CONTROL "", IDC_SPEECH_RATE_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,34,170,18
  LTEXT "", IDC_SPEECH_RATE_VAL, 232,38,55,10

  LTEXT "Pitch:", -1, 14,56,35,10
  CONTROL "", IDC_SPEECH_PITCH_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,52,170,18
  LTEXT "", IDC_SPEECH_PITCH_VAL, 232,56,55,10

  LTEXT "Volume:", -1, 14,74,35,10
  CONTROL "", IDC_SPEECH_VOLUME_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,70,170,18
  LTEXT "", IDC_SPEECH_VOLUME_VAL, 232,74,55,10

  LTEXT "Inflection:", -1, 14,92,45,10
  CONTROL "", IDC_SPEECH_INFLECTION_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,88,170,18
  LTEXT "", IDC_SPEECH_INFLECTION_VAL, 232,92,55,10

  GROUPBOX "Frame parameters", -1, 7,116,286,106
  LTEXT "Parameter:", -1, 14,130,55,10
  LISTBOX IDC_SPEECH_PARAM_LIST, 14,142,130,70, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  LTEXT "Value:", -1, 152,130,30,10
  CONTROL "", IDC_SPEECH_PARAM_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 152,142,130,18
  LTEXT "", IDC_SPEECH_PARAM_VAL, 152,164,130,10
  PUSHBUTTON "Reset parameter", IDC_SPEECH_PARAM_RESET, 152,178,90,14
  PUSHBUTTON "Reset all", IDC_SPEECH_RESET_ALL, 246,178,45,14

  DEFPUSHBUTTON "OK", IDOK, 188,238,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 243,238,50,14
END

IDD_EDIT_SETTING DIALOGEX 0,0,240,100
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit setting"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Key:", -1, 7,7,40,10
  COMBOBOX IDC_SETTING_KEY, 52,5,180,120, CBS_DROPDOWN | WS_VSCROLL | WS_TABSTOP

  LTEXT "Value:", -1, 7,30,40,10
  EDITTEXT IDC_SETTING_VALUE, 52,28,180,14, ES_AUTOHSCROLL

  DEFPUSHBUTTON "OK", IDOK, 126,78,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,78,50,14
END


IDD_PHONEMIZER_SETTINGS DIALOGEX 0,0,360,240
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Phonemizer settings"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Template:", -1, 7,7,45,10
  COMBOBOX IDC_PHONEMIZER_TEMPLATE, 60,5,293,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  GROUPBOX "Executable", -1, 7,24,346,52
  LTEXT "Phonemizer exe:", -1, 14,38,75,10
  EDITTEXT IDC_PHONEMIZER_EXE, 95,36,200,14, ES_AUTOHSCROLL | WS_TABSTOP
  PUSHBUTTON "Browse...", IDC_PHONEMIZER_BROWSE, 300,35,50,14
  LTEXT "Leave blank to use eSpeak from the configured directory.", -1, 14,54,330,10

  GROUPBOX "Invocation", -1, 7,80,346,92
  LTEXT "Command type:", -1, 14,94,70,10
  COMBOBOX IDC_PHONEMIZER_MODE, 95,92,170,80, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  LTEXT "Args for STDIN:", -1, 14,112,75,10
  EDITTEXT IDC_PHONEMIZER_ARGS_STDIN, 95,110,255,14, ES_AUTOHSCROLL | WS_TABSTOP
  LTEXT "Args for CLI:", -1, 14,130,75,10
  EDITTEXT IDC_PHONEMIZER_ARGS_CLI, 95,128,255,14, ES_AUTOHSCROLL | WS_TABSTOP
  LTEXT "Placeholders: {lang} {qlang} {text} {qtext} {dataDir} {pathArg}", -1, 14,148,330,20

  GROUPBOX "Chunking", -1, 7,176,346,34
  LTEXT "Max chunk chars:", -1, 14,190,75,10
  EDITTEXT IDC_PHONEMIZER_MAXCHUNK, 95,188,60,14, ES_NUMBER | WS_TABSTOP
  LTEXT "Smaller = more responsive; larger = fewer calls.", -1, 160,190,190,10

  DEFPUSHBUTTON "OK", IDOK, 246,219,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 303,219,50,14
END

IDR_ACCEL ACCELERATORS
BEGIN
  "O", IDM_FILE_OPEN_PACKROOT, VIRTKEY, CONTROL
  "S", IDM_FILE_SAVE_LANGUAGE, VIRTKEY, CONTROL
  "L", IDM_FILE_SAVE_LANGUAGE, VIRTKEY, CONTROL
  "P", IDM_FILE_SAVE_PHONEMES, VIRTKEY, CONTROL
  VK_F5, IDM_FILE_RELOAD_LANGUAGE, VIRTKEY
  VK_F5, IDM_FILE_RELOAD_PHONEMES, VIRTKEY, SHIFT
END

// -----------------
// Dialog: Voice Profiles List
// -----------------
IDD_VOICE_PROFILES DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Voice Profiles"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Voice profiles defined in phonemes.yaml:", -1, 7,7,266,10
  LISTBOX IDC_VP_LIST, 7,20,200,150, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  PUSHBUTTON "Add...", IDC_VP_ADD, 215,20,58,14
  PUSHBUTTON "Edit...", IDC_VP_EDIT, 215,38,58,14
  PUSHBUTTON "Duplicate", IDC_VP_DUPLICATE, 215,56,58,14
  PUSHBUTTON "Delete", IDC_VP_DELETE, 215,74,58,14
  DEFPUSHBUTTON "Save && Close", IDOK, 150,178,70,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,178,50,14
END

// -----------------
// Dialog: Edit Voice Profile
// -----------------
IDD_EDIT_VOICE_PROFILE DIALOGEX 0,0,400,340
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit Voice Profile"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Profile name:", -1, 7,7,60,10
  EDITTEXT IDC_EVP_NAME, 75,5,140,14, ES_AUTOHSCROLL

  GROUPBOX "Class Scales (multipliers)", -1, 7,26,386,150
  LTEXT "Class:", -1, 14,40,30,10
  COMBOBOX IDC_EVP_CLASS_COMBO, 50,38,100,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  PUSHBUTTON "Remove Class", IDC_EVP_CLASS_REMOVE, 156,37,70,14
  
  LTEXT "Scale fields:", -1, 14,56,60,10
  LISTBOX IDC_EVP_SCALES_LIST, 14,68,180,100, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  
  LTEXT "Field:", -1, 204,56,30,10
  COMBOBOX IDC_EVP_SCALE_FIELD, 204,68,100,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  LTEXT "Value:", -1, 204,88,30,10
  EDITTEXT IDC_EVP_SCALE_VALUE, 204,100,100,14, ES_AUTOHSCROLL
  LTEXT "(arrays: [1.0, 1.1, 1.2, ...])", -1, 204,118,100,20
  PUSHBUTTON "Set", IDC_EVP_SCALE_SET, 310,68,75,14
  PUSHBUTTON "Remove Selected", IDC_EVP_SCALE_REMOVE, 310,88,75,14

  GROUPBOX "Phoneme Overrides (absolute values)", -1, 7,180,386,120
  LISTBOX IDC_EVP_OVERRIDES_LIST, 14,194,270,96, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  PUSHBUTTON "Add...", IDC_EVP_OVERRIDE_ADD, 292,194,95,14
  PUSHBUTTON "Edit...", IDC_EVP_OVERRIDE_EDIT, 292,212,95,14
  PUSHBUTTON "Remove", IDC_EVP_OVERRIDE_REMOVE, 292,230,95,14

  DEFPUSHBUTTON "OK", IDOK, 288,318,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 343,318,50,14
END

// -----------------
// Dialog: Edit Phoneme Override
// -----------------
IDD_EDIT_PHONEME_OVERRIDE DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit Phoneme Override"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Phoneme (IPA symbol):", -1, 7,7,90,10
  EDITTEXT IDC_EPO_PHONEME, 100,5,80,14, ES_AUTOHSCROLL

  LTEXT "Field overrides:", -1, 7,26,100,10
  LISTBOX IDC_EPO_FIELDS_LIST, 7,38,160,120, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  
  LTEXT "Field:", -1, 175,26,30,10
  COMBOBOX IDC_EPO_FIELD_COMBO, 175,38,98,200, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  LTEXT "Value:", -1, 175,58,30,10
  EDITTEXT IDC_EPO_FIELD_VALUE, 175,70,98,14, ES_AUTOHSCROLL
  PUSHBUTTON "Set", IDC_EPO_FIELD_SET, 175,90,45,14
  PUSHBUTTON "Remove", IDC_EPO_FIELD_REMOVE, 225,90,48,14

  DEFPUSHBUTTON "OK", IDOK, 168,178,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,178,50,14
END
