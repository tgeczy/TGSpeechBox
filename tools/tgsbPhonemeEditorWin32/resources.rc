#include <windows.h>
#include "resource.h"

IDR_MAINMENU MENU
BEGIN
  POPUP "&File"
  BEGIN
    MENUITEM "Open pack root...\tCtrl+O", IDM_FILE_OPEN_PACKROOT
    MENUITEM SEPARATOR
    MENUITEM "Sa&ve language YAML\tCtrl+S", IDM_FILE_SAVE_LANGUAGE
    MENUITEM "Save &phonemes YAML\tCtrl+P", IDM_FILE_SAVE_PHONEMES
    MENUITEM SEPARATOR
    MENUITEM "&Reload language YAML\tF5", IDM_FILE_RELOAD_LANGUAGE
    MENUITEM "Reload ph&onemes YAML\tShift+F5", IDM_FILE_RELOAD_PHONEMES
    MENUITEM SEPARATOR
    MENUITEM "Exit", IDM_FILE_EXIT
  END
  POPUP "&Settings"
  BEGIN
    MENUITEM "Set eSpeak directory...", IDM_SETTINGS_ESPEAK_DIR
    MENUITEM "Phonemizer settings...", IDM_SETTINGS_PHONEMIZER
    MENUITEM "Set DLL directory...", IDM_SETTINGS_DLL_DIR
    MENUITEM "Speech settings...", IDM_SETTINGS_SPEECH_SETTINGS
    MENUITEM SEPARATOR
    MENUITEM "Edit voice profiles...", IDM_SETTINGS_EDIT_VOICES
    MENUITEM SEPARATOR
    MENUITEM "Edit allophone rules...", IDM_SETTINGS_EDIT_ALLOPHONES
    MENUITEM "Edit special coarticulation rules...", IDM_SETTINGS_EDIT_SPECIAL_COARTIC
  END
  POPUP "&Help"
  BEGIN
    MENUITEM "About...", IDM_HELP_ABOUT
  END
END

IDD_ADD_MAPPING DIALOGEX 0,0,240,230
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Add mapping"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "From (IPA):", -1, 7,7,70,10
  EDITTEXT IDC_MAP_FROM, 80,5,150,14, ES_AUTOHSCROLL

  LTEXT "To (phoneme key):", -1, 7,26,70,10
  EDITTEXT IDC_MAP_TO, 80,24,150,14, ES_AUTOHSCROLL

  CONTROL "At word start", IDC_MAP_WORDSTART, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 7,46,100,10
  CONTROL "At word end", IDC_MAP_WORDEND, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 120,46,100,10

  LTEXT "Before class:", -1, 7,62,70,10
  COMBOBOX IDC_MAP_BEFORECLASS, 80,60,150,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "After class:", -1, 7,80,70,10
  COMBOBOX IDC_MAP_AFTERCLASS, 80,78,150,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "Not before class:", -1, 7,98,70,10
  COMBOBOX IDC_MAP_NOTBEFORECLASS, 80,96,150,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "Not after class:", -1, 7,116,70,10
  COMBOBOX IDC_MAP_NOTAFTERCLASS, 80,114,150,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  PUSHBUTTON "Edit Classes...", IDC_MAP_EDIT_CLASSES, 7,138,80,14

  DEFPUSHBUTTON "OK", IDOK, 126,208,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,208,50,14
END

IDD_CLONE_PHONEME DIALOGEX 0,0,240,120
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Clone phoneme"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "New phoneme key:", -1, 7,7,90,10
  EDITTEXT IDC_CLONE_NEWKEY, 100,5,130,14, ES_AUTOHSCROLL

  LTEXT "Clone from:", -1, 7,28,90,10
  COMBOBOX IDC_CLONE_FROM, 100,26,130,100, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  DEFPUSHBUTTON "OK", IDOK, 126,98,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,98,50,14
END

IDD_EDIT_VALUE DIALOGEX 0,0,240,90
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit value"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Field:", -1, 7,7,40,10
  LTEXT "", IDC_VAL_FIELD, 52,7,180,10

  LTEXT "Value:", -1, 7,28,40,10
  EDITTEXT IDC_VAL_VALUE, 52,26,180,14, ES_AUTOHSCROLL

  CONTROL "Preview while typing", IDC_VAL_LIVE_PREVIEW, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 52,44,120,10

  DEFPUSHBUTTON "OK", IDOK, 126,68,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,68,50,14
END

IDD_EDIT_PHONEME DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit phoneme"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "", IDC_PHONEME_KEY_LABEL, 7,7,266,10
  LTEXT "Phoneme fields:", -1, 7,18,266,10
  CONTROL "", IDC_PHONEME_FIELDS, "SysListView32", LVS_REPORT | LVS_SINGLESEL | WS_TABSTOP | WS_BORDER, 7,22,266,150
  PUSHBUTTON "Edit value...", IDC_PHONEME_EDIT_VALUE, 7,176,70,14
  DEFPUSHBUTTON "OK", IDOK, 168,176,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,176,50,14
END

IDD_EDIT_SETTINGS DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Language settings"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Settings:", -1, 7,7,266,10
  CONTROL "", IDC_SETTINGS_LIST, "SysListView32", LVS_REPORT | LVS_SINGLESEL | WS_TABSTOP | WS_BORDER, 7,18,266,129
  PUSHBUTTON "Add...", IDC_SETTINGS_ADD, 7,152,60,14
  PUSHBUTTON "Edit...", IDC_SETTINGS_EDIT, 72,152,60,14
  PUSHBUTTON "Remove", IDC_SETTINGS_REMOVE, 137,152,60,14
  DEFPUSHBUTTON "OK", IDOK, 168,176,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,176,50,14
END

// -----------------
// Dialog: Speech settings
// -----------------
IDD_SPEECH_SETTINGS DIALOGEX 0,0,300,480
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Speech settings"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Voice:", -1, 7,7,40,10
  COMBOBOX IDC_SPEECH_VOICE, 55,5,140,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  GROUPBOX "Basic", -1, 7,24,286,88
  LTEXT "Rate:", -1, 14,38,35,10
  CONTROL "", IDC_SPEECH_RATE_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,34,170,18
  LTEXT "", IDC_SPEECH_RATE_VAL, 232,38,55,10

  LTEXT "Pitch:", -1, 14,56,35,10
  CONTROL "", IDC_SPEECH_PITCH_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,52,170,18
  LTEXT "", IDC_SPEECH_PITCH_VAL, 232,56,55,10

  LTEXT "Volume:", -1, 14,74,35,10
  CONTROL "", IDC_SPEECH_VOLUME_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,70,170,18
  LTEXT "", IDC_SPEECH_VOLUME_VAL, 232,74,55,10

  LTEXT "Inflection:", -1, 14,92,45,10
  CONTROL "", IDC_SPEECH_INFLECTION_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 55,88,170,18
  LTEXT "", IDC_SPEECH_INFLECTION_VAL, 232,92,55,10

  GROUPBOX "Frame parameters", -1, 7,116,286,106
  LTEXT "Parameter:", -1, 14,130,55,10
  LISTBOX IDC_SPEECH_PARAM_LIST, 14,142,130,70, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  LTEXT "Value:", -1, 152,130,30,10
  CONTROL "", IDC_SPEECH_PARAM_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 152,142,130,18
  LTEXT "", IDC_SPEECH_PARAM_VAL, 152,164,130,10
  PUSHBUTTON "Reset parameter", IDC_SPEECH_PARAM_RESET, 152,178,90,14
  PUSHBUTTON "Reset all", IDC_SPEECH_RESET_ALL, 246,178,45,14

  GROUPBOX "Voicing parameters", -1, 7,226,286,106
  LTEXT "Parameter:", -1, 14,240,55,10
  LISTBOX IDC_SPEECH_VOICING_LIST, 14,252,130,70, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  LTEXT "Value:", -1, 152,240,30,10
  CONTROL "", IDC_SPEECH_VOICING_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 152,252,130,18
  LTEXT "", IDC_SPEECH_VOICING_VAL, 152,274,130,10
  PUSHBUTTON "Reset parameter", IDC_SPEECH_VOICING_RESET, 152,288,90,14
  PUSHBUTTON "Reset all", IDC_SPEECH_VOICING_RESET_ALL, 246,288,45,14

  GROUPBOX "Voice quality (FrameEx)", -1, 7,336,286,106
  LTEXT "Parameter:", -1, 14,350,55,10
  LISTBOX IDC_SPEECH_FRAMEEX_LIST, 14,362,130,70, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  LTEXT "Value:", -1, 152,350,30,10
  CONTROL "", IDC_SPEECH_FRAMEEX_SLIDER, "msctls_trackbar32", TBS_AUTOTICKS | WS_TABSTOP, 152,362,130,18
  LTEXT "", IDC_SPEECH_FRAMEEX_VAL, 152,384,130,10
  PUSHBUTTON "Reset parameter", IDC_SPEECH_FRAMEEX_RESET, 152,398,90,14
  PUSHBUTTON "Reset all", IDC_SPEECH_FRAMEEX_RESET_ALL, 246,398,45,14

  PUSHBUTTON "Save to Profile...", IDC_SPEECH_SAVE_TO_PROFILE, 7,458,90,14
  DEFPUSHBUTTON "OK", IDOK, 188,458,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 243,458,50,14
END

IDD_EDIT_SETTING DIALOGEX 0,0,240,100
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit setting"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Key:", -1, 7,7,40,10
  COMBOBOX IDC_SETTING_KEY, 52,5,180,120, CBS_DROPDOWN | WS_VSCROLL | WS_TABSTOP

  LTEXT "Value:", -1, 7,30,40,10
  EDITTEXT IDC_SETTING_VALUE, 52,28,180,14, ES_AUTOHSCROLL

  DEFPUSHBUTTON "OK", IDOK, 126,78,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 180,78,50,14
END


IDD_PHONEMIZER_SETTINGS DIALOGEX 0,0,360,240
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Phonemizer settings"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Template:", -1, 7,7,45,10
  COMBOBOX IDC_PHONEMIZER_TEMPLATE, 60,5,293,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  GROUPBOX "Executable", -1, 7,24,346,52
  LTEXT "Phonemizer exe:", -1, 14,38,75,10
  EDITTEXT IDC_PHONEMIZER_EXE, 95,36,200,14, ES_AUTOHSCROLL | WS_TABSTOP
  PUSHBUTTON "Browse...", IDC_PHONEMIZER_BROWSE, 300,35,50,14
  LTEXT "Leave blank to use eSpeak from the configured directory.", -1, 14,54,330,10

  GROUPBOX "Invocation", -1, 7,80,346,92
  LTEXT "Command type:", -1, 14,94,70,10
  COMBOBOX IDC_PHONEMIZER_MODE, 95,92,170,80, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  LTEXT "Args for STDIN:", -1, 14,112,75,10
  EDITTEXT IDC_PHONEMIZER_ARGS_STDIN, 95,110,255,14, ES_AUTOHSCROLL | WS_TABSTOP
  LTEXT "Args for CLI:", -1, 14,130,75,10
  EDITTEXT IDC_PHONEMIZER_ARGS_CLI, 95,128,255,14, ES_AUTOHSCROLL | WS_TABSTOP
  LTEXT "Placeholders: {lang} {qlang} {text} {qtext} {dataDir} {pathArg}", -1, 14,148,330,20

  GROUPBOX "Chunking", -1, 7,176,346,34
  LTEXT "Max chunk chars:", -1, 14,190,75,10
  EDITTEXT IDC_PHONEMIZER_MAXCHUNK, 95,188,60,14, ES_NUMBER | WS_TABSTOP
  LTEXT "Smaller = more responsive; larger = fewer calls.", -1, 160,190,190,10

  DEFPUSHBUTTON "OK", IDOK, 246,219,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 303,219,50,14
END

IDR_ACCEL ACCELERATORS
BEGIN
  "O", IDM_FILE_OPEN_PACKROOT, VIRTKEY, CONTROL
  "S", IDM_FILE_SAVE_LANGUAGE, VIRTKEY, CONTROL
  "L", IDM_FILE_SAVE_LANGUAGE, VIRTKEY, CONTROL
  "P", IDM_FILE_SAVE_PHONEMES, VIRTKEY, CONTROL
  VK_F5, IDM_FILE_RELOAD_LANGUAGE, VIRTKEY
  VK_F5, IDM_FILE_RELOAD_PHONEMES, VIRTKEY, SHIFT
END

// -----------------
// Dialog: Voice Profiles List
// -----------------
IDD_VOICE_PROFILES DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Voice Profiles"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Voice profiles defined in phonemes.yaml:", -1, 7,7,266,10
  LISTBOX IDC_VP_LIST, 7,20,200,150, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  PUSHBUTTON "Add...", IDC_VP_ADD, 215,20,58,14
  PUSHBUTTON "Edit...", IDC_VP_EDIT, 215,38,58,14
  PUSHBUTTON "Duplicate", IDC_VP_DUPLICATE, 215,56,58,14
  PUSHBUTTON "Delete", IDC_VP_DELETE, 215,74,58,14
  DEFPUSHBUTTON "Save && Close", IDOK, 150,178,70,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,178,50,14
END

// -----------------
// Dialog: Edit Voice Profile
// -----------------
IDD_EDIT_VOICE_PROFILE DIALOGEX 0,0,400,340
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit Voice Profile"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Profile name:", -1, 7,7,60,10
  EDITTEXT IDC_EVP_NAME, 75,5,140,14, ES_AUTOHSCROLL

  GROUPBOX "Class Scales (multipliers)", -1, 7,26,386,150
  LTEXT "Class:", -1, 14,40,30,10
  COMBOBOX IDC_EVP_CLASS_COMBO, 50,38,100,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  PUSHBUTTON "Remove Class", IDC_EVP_CLASS_REMOVE, 156,37,70,14
  
  LTEXT "Scale fields:", -1, 14,56,60,10
  LISTBOX IDC_EVP_SCALES_LIST, 14,68,180,100, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  
  LTEXT "Field:", -1, 204,56,30,10
  COMBOBOX IDC_EVP_SCALE_FIELD, 204,68,100,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  LTEXT "Value:", -1, 204,88,30,10
  EDITTEXT IDC_EVP_SCALE_VALUE, 204,100,100,14, ES_AUTOHSCROLL
  LTEXT "(arrays: [1.0, 1.1, 1.2, ...])", -1, 204,118,100,20
  PUSHBUTTON "Set", IDC_EVP_SCALE_SET, 310,68,75,14
  PUSHBUTTON "Remove Selected", IDC_EVP_SCALE_REMOVE, 310,88,75,14

  GROUPBOX "Phoneme Overrides (absolute values)", -1, 7,180,386,120
  LISTBOX IDC_EVP_OVERRIDES_LIST, 14,194,270,96, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  PUSHBUTTON "Add...", IDC_EVP_OVERRIDE_ADD, 292,194,95,14
  PUSHBUTTON "Edit...", IDC_EVP_OVERRIDE_EDIT, 292,212,95,14
  PUSHBUTTON "Remove", IDC_EVP_OVERRIDE_REMOVE, 292,230,95,14

  DEFPUSHBUTTON "OK", IDOK, 288,318,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 343,318,50,14
END

// -----------------
// Dialog: Edit Phoneme Override
// -----------------
IDD_EDIT_PHONEME_OVERRIDE DIALOGEX 0,0,280,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit Phoneme Override"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Phoneme (IPA symbol):", -1, 7,7,90,10
  EDITTEXT IDC_EPO_PHONEME, 100,5,80,14, ES_AUTOHSCROLL

  LTEXT "Field overrides:", -1, 7,26,100,10
  LISTBOX IDC_EPO_FIELDS_LIST, 7,38,160,120, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  
  LTEXT "Field:", -1, 175,26,30,10
  COMBOBOX IDC_EPO_FIELD_COMBO, 175,38,98,200, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
  LTEXT "Value:", -1, 175,58,30,10
  EDITTEXT IDC_EPO_FIELD_VALUE, 175,70,98,14, ES_AUTOHSCROLL
  PUSHBUTTON "Set", IDC_EPO_FIELD_SET, 175,90,45,14
  PUSHBUTTON "Remove", IDC_EPO_FIELD_REMOVE, 225,90,48,14

  DEFPUSHBUTTON "OK", IDOK, 168,178,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 223,178,50,14
END

IDD_CLASS_EDITOR DIALOGEX 0,0,320,200
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit Normalization Classes"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Classes:", -1, 7,7,50,10
  LISTBOX IDC_CE_CLASS_LIST, 7,18,120,140, LBS_NOTIFY | WS_VSCROLL | WS_TABSTOP | WS_BORDER
  PUSHBUTTON "Add...", IDC_CE_CLASS_ADD, 7,162,55,14
  PUSHBUTTON "Remove", IDC_CE_CLASS_REMOVE, 67,162,60,14

  LTEXT "Members (IPA characters):", IDC_CE_MEMBERS_LABEL, 140,7,170,10
  EDITTEXT IDC_CE_MEMBERS_EDIT, 140,18,170,140, ES_MULTILINE | ES_AUTOVSCROLL | WS_VSCROLL | WS_TABSTOP

  DEFPUSHBUTTON "OK", IDOK, 206,178,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 260,178,50,14
END

// -----------------
// Dialog: Allophone Rules List
// -----------------
IDD_ALLOPHONE_RULES_LIST DIALOGEX 0,0,380,300
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Allophone Rules"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Rules (evaluated in order; first replace/insert match wins):", -1, 7,7,360,10
  CONTROL "", IDC_AR_LIST, "SysListView32", LVS_REPORT | LVS_SINGLESEL | LVS_SHOWSELALWAYS | WS_TABSTOP | WS_BORDER, 7,18,304,254
  PUSHBUTTON "Add...", IDC_AR_ADD, 318,18,55,14
  PUSHBUTTON "Edit...", IDC_AR_EDIT, 318,36,55,14
  PUSHBUTTON "Remove", IDC_AR_REMOVE, 318,54,55,14
  PUSHBUTTON "Move Up", IDC_AR_MOVEUP, 318,80,55,14
  PUSHBUTTON "Move Down", IDC_AR_MOVEDOWN, 318,98,55,14
  DEFPUSHBUTTON "OK", IDOK, 264,278,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 318,278,55,14
END

// -----------------
// Dialog: Allophone Rule Edit
// -----------------
IDD_ALLOPHONE_RULE_EDIT DIALOGEX 0,0,360,500
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit Allophone Rule"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Name:", -1, 7,9,40,10
  EDITTEXT IDC_AR_NAME, 80,7,270,14, ES_AUTOHSCROLL

  LTEXT "Phonemes:", -1, 7,27,65,10
  EDITTEXT IDC_AR_PHONEMES, 80,25,270,14, ES_AUTOHSCROLL

  LTEXT "Flags:", -1, 7,45,35,10
  EDITTEXT IDC_AR_FLAGS, 80,43,120,14, ES_AUTOHSCROLL
  LTEXT "Not flags:", -1, 210,45,45,10
  EDITTEXT IDC_AR_NOTFLAGS, 260,43,90,14, ES_AUTOHSCROLL

  LTEXT "Token type:", -1, 7,63,55,10
  COMBOBOX IDC_AR_TOKENTYPE, 80,61,120,80, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "Position:", -1, 7,81,45,10
  COMBOBOX IDC_AR_POSITION, 80,79,120,120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "Stress:", -1, 7,99,45,10
  COMBOBOX IDC_AR_STRESS, 80,97,120,100, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "After:", -1, 7,117,35,10
  EDITTEXT IDC_AR_AFTER, 80,115,120,14, ES_AUTOHSCROLL
  LTEXT "Before:", -1, 210,117,35,10
  EDITTEXT IDC_AR_BEFORE, 260,115,90,14, ES_AUTOHSCROLL

  LTEXT "Action:", -1, 7,139,40,10
  COMBOBOX IDC_AR_ACTION, 80,137,120,100, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  // Replace section
  GROUPBOX "Replace", IDC_AR_GRP_REPLACE, 7,158,343,70
  LTEXT "Replace to:", -1, 14,172,55,10
  EDITTEXT IDC_AR_REPLACE_TO, 80,170,120,14, ES_AUTOHSCROLL
  LTEXT "Duration ms:", -1, 210,172,55,10
  EDITTEXT IDC_AR_REPLACE_DURMS, 275,170,65,14, ES_AUTOHSCROLL
  CONTROL "Removes closure", IDC_AR_REPLACE_RMCLOSURE, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 14,190,100,10
  CONTROL "Removes aspiration", IDC_AR_REPLACE_RMASP, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 140,190,110,10
  LTEXT "Closure scale:", -1, 14,206,55,10
  EDITTEXT IDC_AR_REPLACE_CLOSCALE, 80,204,60,14, ES_AUTOHSCROLL
  LTEXT "Aspiration scale:", -1, 150,206,65,10
  EDITTEXT IDC_AR_REPLACE_ASPSCALE, 220,204,60,14, ES_AUTOHSCROLL

  // Scale section
  GROUPBOX "Scale", IDC_AR_GRP_SCALE, 7,232,343,100
  LTEXT "Duration scale:", -1, 14,246,65,10
  EDITTEXT IDC_AR_SCALE_DUR, 80,244,60,14, ES_AUTOHSCROLL
  LTEXT "Fade scale:", -1, 150,246,55,10
  EDITTEXT IDC_AR_SCALE_FADE, 210,244,60,14, ES_AUTOHSCROLL
  LTEXT "Field scales (one per line: fieldName: value):", -1, 14,264,250,10
  EDITTEXT IDC_AR_SCALE_FIELDS, 14,276,326,48, ES_MULTILINE | ES_AUTOVSCROLL | WS_VSCROLL | WS_TABSTOP

  // Shift section
  GROUPBOX "Shift", IDC_AR_GRP_SHIFT, 7,336,343,80
  LTEXT "Field shifts (one per line: field: target=N, blend=M  or  field: delta=N):", -1, 14,350,326,10
  EDITTEXT IDC_AR_SHIFT_FIELDS, 14,362,326,48, ES_MULTILINE | ES_AUTOVSCROLL | WS_VSCROLL | WS_TABSTOP

  // Insert section
  GROUPBOX "Insert", IDC_AR_GRP_INSERT, 7,420,343,56
  LTEXT "Phoneme:", -1, 14,434,45,10
  EDITTEXT IDC_AR_INSERT_PHONEME, 62,432,80,14, ES_AUTOHSCROLL
  LTEXT "Duration ms:", -1, 152,434,55,10
  EDITTEXT IDC_AR_INSERT_DURMS, 210,432,50,14, ES_AUTOHSCROLL
  LTEXT "Fade ms:", -1, 270,434,40,10
  EDITTEXT IDC_AR_INSERT_FADEMS, 312,432,28,14, ES_AUTOHSCROLL
  LTEXT "Contexts:", -1, 14,452,45,10
  EDITTEXT IDC_AR_INSERT_CONTEXTS, 62,450,278,14, ES_AUTOHSCROLL

  DEFPUSHBUTTON "OK", IDOK, 246,480,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 300,480,50,14
END

// -----------------
// Dialog: Special Coarticulation Rules List
// -----------------
IDD_SPECIAL_COARTIC_LIST DIALOGEX 0,0,380,300
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Special Coarticulation Rules"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Rules:", -1, 7,7,360,10
  CONTROL "", IDC_SC_LIST, "SysListView32", LVS_REPORT | LVS_SINGLESEL | LVS_SHOWSELALWAYS | WS_TABSTOP | WS_BORDER, 7,18,304,254
  PUSHBUTTON "Add...", IDC_SC_ADD, 318,18,55,14
  PUSHBUTTON "Edit...", IDC_SC_EDIT, 318,36,55,14
  PUSHBUTTON "Remove", IDC_SC_REMOVE, 318,54,55,14
  PUSHBUTTON "Move Up", IDC_SC_MOVEUP, 318,80,55,14
  PUSHBUTTON "Move Down", IDC_SC_MOVEDOWN, 318,98,55,14
  DEFPUSHBUTTON "OK", IDOK, 264,278,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 318,278,55,14
END

// -----------------
// Dialog: Special Coarticulation Rule Edit
// -----------------
IDD_SPECIAL_COARTIC_EDIT DIALOGEX 0,0,300,260
STYLE DS_SETFONT | DS_MODALFRAME | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Edit Special Coarticulation Rule"
FONT 9, "Segoe UI"
BEGIN
  LTEXT "Name:", -1, 7,9,40,10
  EDITTEXT IDC_SC_NAME, 100,7,190,14, ES_AUTOHSCROLL

  LTEXT "Triggers (IPA):", -1, 7,27,65,10
  EDITTEXT IDC_SC_TRIGGERS, 100,25,190,14, ES_AUTOHSCROLL

  LTEXT "Vowel filter:", -1, 7,45,65,10
  COMBOBOX IDC_SC_VOWELFILTER, 100,43,190,100, CBS_DROPDOWN | WS_VSCROLL | WS_TABSTOP

  LTEXT "Formant:", -1, 7,63,50,10
  COMBOBOX IDC_SC_FORMANT, 100,61,80,60, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  LTEXT "Delta Hz:", -1, 7,81,50,10
  EDITTEXT IDC_SC_DELTAHZ, 100,79,80,14, ES_AUTOHSCROLL

  LTEXT "Side:", -1, 7,99,50,10
  COMBOBOX IDC_SC_SIDE, 100,97,80,60, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP

  CONTROL "Cumulative", IDC_SC_CUMULATIVE, "BUTTON", BS_AUTOCHECKBOX | WS_TABSTOP, 7,117,100,10

  LTEXT "Unstressed scale:", -1, 7,137,80,10
  EDITTEXT IDC_SC_UNSTRESSED, 100,135,80,14, ES_AUTOHSCROLL

  LTEXT "Phrase-final stressed scale:", -1, 7,155,95,10
  EDITTEXT IDC_SC_PHRASEFINAL, 100,153,80,14, ES_AUTOHSCROLL

  DEFPUSHBUTTON "OK", IDOK, 188,238,50,14
  PUSHBUTTON "Cancel", IDCANCEL, 242,238,50,14
END
