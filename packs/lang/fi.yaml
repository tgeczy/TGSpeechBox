# Finnish (fi)
#
# Finnish characteristics:
# - Strong phonemic length contrast (both vowels and consonants)
# - Geminates have 3:1 ratio (longer than most languages!)
# - Fixed initial stress
# - Syllable-timed rhythm
# - Pure vowels, vowel harmony

settings:
  # === STRESS & RHYTHM ===
  # Finnish has fixed initial stress but relatively even syllable timing
  primaryStressDiv: 1.30
  secondaryStressDiv: 1.08

  # === LENGTH CONTRAST ===
  # Finnish has extremely strong length distinctions
  # Research shows 3:1 geminate-to-singleton ratio (stronger than Italian/Japanese)
  lengthenedScale: 1.6

  applyLengthenedScaleToVowelsOnly: false

  # Length contrast + gemination (Finnish has VERY strong quantity)
  lengthContrastEnabled: true
  lengthContrastShortVowelCeilingMs: 80
  lengthContrastLongVowelFloorMs: 140

  # Finnish geminates are longer than Hungarian - use 2.2x scale
  lengthContrastGeminateClosureScale: 2.2
  lengthContrastGeminateReleaseScale: 0.85
  lengthContrastPreGeminateVowelScale: 0.80

  # === TRILLS ===
  # Finnish has a trilled /r/
  trillModulationMs: 50
  trillModulationFadeMs: 2

  # === SMOOTHING ===
  boundarySmoothingEnabled: true

  # === SINGLE WORD TUNING ===
  singleWordTuningEnabled: true
  singleWordFinalHoldMs: 45
  singleWordFinalFadeMs: 18
  singleWordClauseTypeOverride: "."
  singleWordClauseTypeOverrideCommaOnly: true

normalization:
  preReplacements:
    # Finnish /a/ comes through from eSpeak as plain 'a', which in our global phoneme table
    # is a bit too front. Route it to the Hungarian-style open back vowel for a clearer 'ah'.
    - from: "a"
      to:   "ᴒ"
    - from: "ɑ"
      to:   "ᴒ"
    - from: "ɒ"
      to:   "ᴒ"

    # eSpeak fi often uses ɪ where Finnish speakers expect a cleaner /i/.
    - from: "ɪ"
      to:   "i"

    # Finnish /e/ should be a pure mid front vowel
    - from: "ɛ"
      to:   "e"
