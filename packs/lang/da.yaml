# Danish (da)
# Now with proper creaky voice stød using FrameEx parameters!

settings:
  primaryStressDiv: 1.25
  secondaryStressDiv: 1.07

  # Moderate vowel length for Danish
  lengthenedScale: 1.20

  # Single-word tuning for screen reader navigation
  singleWordTuningEnabled: true
  singleWordFinalHoldMs: 45
  singleWordFinalFadeMs: 18

  # Smooth transitions
  boundarySmoothingEnabled: true

  # Uvular R trill
  trillModulationMs: 38

  # Danish heavily reduces word-final schwas (e.g., "klamme" -> klam')
  wordFinalSchwaReductionEnabled: true
  wordFinalSchwaScale: 0.35
  wordFinalSchwaMinDurationMs: 6.0

  spellingDiphthongMode: none
  stopClosureAfterNasalsEnabled: false
  segmentBoundarySkipVowelToLiquid: false
  postStopAspirationEnabled: false
  coarticulationEnabled: false
  coarticulationFadeIntoConsonants: false
  coarticulationVelarPinchEnabled: false
  coarticulationGraduated: false
  coarticulationAdjacencyMaxConsonants: 2
  phraseFinalLengtheningEnabled: false
  phraseFinalLengtheningNucleusOnlyMode: false
  singleWordClauseTypeOverrideCommaOnly: true
  microprosodyEnabled: false
  microprosodyVoicelessF0RaiseEnabled: false
  microprosodyVoicedF0LowerEnabled: false
  rateReductionEnabled: false
  nasalizationAnticipatoryEnabled: false
  liquidDynamics:
    enabled: false
  lengthContrast:
    enabled: false
  positionalAllophones:
    enabled: false
    glottalReinforcement:
      enabled: false
  boundarySmoothing:
    enabled: false
  trajectoryLimit:
    enabled: false
    applyAcrossWordBoundary: false
normalization:
  preReplacements:
    # Danish stød: eSpeak outputs both ASCII '?' and IPA 'ʔ' inconsistently.
    # Route both to ˀ (creaky voice stød) instead of the English glottal stop.
    - from: "?"
      to: "ˀ"
    - from: "ʔ"
      to: "ˀ"

  replacements:
    # eSpeak da sometimes outputs Greek epsilon (ε) where IPA would normally use ɛ.
    - from: "ε"
      to: "ɛ"

    # R normalization
    - from: "R"
      to: "ʁ"

    # Split diphthong - use 'a' instead of 'ɑ' to prevent combined phoneme lookup.
    # There's no "aj" combined phoneme, so "a" + "j" get processed separately
    # and coarticulation creates the natural glide.
    - from: "ɑj"
      to: "aj"

# Note: Danish stød uses ˀ (creaky voice) defined in phonemes.yaml.
# The ʔ symbol is reserved for English glottal stops (button, kitten).
# da.yaml normalizes both ? and ʔ to ˀ in preReplacements above.