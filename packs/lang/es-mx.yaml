# Spanish (Mexico) (es-mx)
# Inherits from: default.yaml -> es.yaml -> es-mx.yaml
#
# es.yaml provides: all shared Spanish settings, classes (VOWELS, SMOOTB),
# and normalization rules (phoneme remaps, cluster separations, lenition).
# This file adds Mexican-specific overrides.

normalization:
  # Skip Castilian-specific rules inherited from es.yaml.
  # Mexican /x/ is softer — the base x phoneme already sounds right.
  # Mexican /s/ is laminal, not apical — s_mx provides the right character.
  skipReplacements:
    - from: x
      to: x_es

  preReplacements:
    # Mexican yeísmo: espeak es-419 emits "jj" for intervocalic ll
    # (e.g. calle → kˈajje, pollo → pˈojjo).
    # Collapse to single palatal fricative before es.yaml's j → j_es fires,
    # otherwise the doubled j produces two separate beats.
    - from: "jj"
      to: "ʝ"

  replacements:
    # Mexican laminal /s/ — brighter and more diffuse than Castilian apical.
    - from: s
      to: s_mx