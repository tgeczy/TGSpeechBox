settings:
  legacyPitchMode: false

  # Hungarian stress is fixed (word-initial) and is less "English-like" in timing.
  # Keep this very subtle so short vs long vowel length contrast stays clear.
  primaryStressDiv: 1.10
  secondaryStressDiv: 1.00

  # Make sure ː actually creates a clear long/short contrast in Hungarian.
  # (We set both the generic and HU compat keys so whichever path the frontend uses, it behaves.)
  lengthenedScale: 1.40
  # Length contrast + gemination (Hungarian has phonemic length)
  lengthContrastEnabled: true
  lengthContrastShortVowelCeilingMs: 90
  lengthContrastLongVowelFloorMs: 100
  lengthContrastGeminateClosureScale: 1.85
  lengthContrastGeminateReleaseScale: 0.9
  lengthContrastPreGeminateVowelScale: 0.88

  lengthenedScaleHu: 1.40
  lengthenedVowelFinalCodaScale: 0.90
  applyLengthenedScaleToVowelsOnly: false
  # Hungarian occlusives are often softer; avoid clickiness:
  stopClosureMode: always
  stopClosureAfterNasalsEnabled: true
  stopClosureVowelGapMs: 30.0
  stopClosureVowelFadeMs: 7.0
  stopClosureClusterGapMs: 24.0
  stopClosureClusterFadeMs: 5.0

  trillModulationMs: 30.0
  trillModulationFadeMs: 0.0

  # Hungarian short "a" timing helper (legacy compat)
  huShortAVowelEnabled: true
  huShortAVowelKey: "ᴒ"
  huShortAVowelScale: 0.85

  phraseFinalLengtheningNucleusOnlyMode: false
  phraseFinalLengtheningEnabled: false
  coarticulationVelarPinchEnabled: false
  coarticulationFadeIntoConsonants: false
  coarticulationEnabled: false
  microprosodyEnabled: true
  microprosodyVoicelessF0RaiseEnabled: false
  microprosodyVoicedF0LowerEnabled: true
  nasalizationAnticipatoryEnabled: false
  positionalAllophonesGlottalReinforcementEnabled: false
  autoTieDiphthongs: false
  liquidDynamicsEnabled: false
normalization:
  preReplacements:
    - from: "aː"
      to: "áː"
    - from: "eː"
      to: "éː"
    - from: "iː"
      to: "íː"
    - from: "oː"
      to: "óː"
    - from: "øː"
      to: "őː"
    - from: "uː"
      to: "úː"
    - from: "yː"
      to: "űː"

    # Hungarian short "a" is more /ɒ/ than /ɑ/ for many speakers.
    - from: "ɑ"
      to: "ᴒ"

    
    - from: "ɒ"
      to: "ᴒ"
    # Hungarian "ny" (/ɲ/) can get lost in consonant clusters (e.g. "könyvtár").
    # Nudge it slightly toward a palatalized nasal variant with a touch more mid energy.
    - from: "ɲ"
      to: "ɲ"

    # Safety: if a palatalization marker sneaks in, map it to our internal marker.
    - from: "ʲ"
      to: ""

    

    # Hungarian "gy" (/ɟ/) needs a true palatal stop quality (not an Englishy affricate).
    - from: "ɟ"
      to: "ɟ"

    # Hungarian "ty" (/c/) should keep its palatal quality (often like a soft "ty").
    - from: "c"
      to: "c"

    # Hungarian geminates come from eSpeak as a length mark (tː, kː, etc.).
    # Keep the length mark so the frontend renders a *single* long consonant
    # (rather than two separated consonants).

    # Remove secondary stress marks to avoid English-like stressing of later syllables.
    - from: "ˌ"
      to: ""
  replacements:
    # In long compounds, the final "jel" can get overly reduced (e.g. "felkiáltójel").
    # Add a light secondary stress so the final syllable stays audible without turning it Englishy.
    - from: "jɛl"
      to: "jˌɛl"
      when:
        atWordEnd: true
